<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PercentageMaker</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
    <h2 class="text-center p-1">Percentage Maker</h2>

    <div class="container-md check">
        <div class="mb-3">
          <label for="total-questions" class="form-label">Total Questions you have</label>
          <input type="number" class="form-control" id="total-questions" aria-describedby="emailHelp">
          <div class="form-text">Enter the total questions number you have.</div>
        </div>
        <div class="row">
            <div class="col">
              <input type="number" class="form-control" id="startingfrom" placeholder="Starting from">
            </div>
            <div class="col">
              <input type="number" class="form-control" id="endwith" placeholder="Ended with">
            </div>
          </div>

          <div class="mb-3">
            <label for="percentageFrom" class="form-label">Percentage From</label>
            <input type="number" placeholder="100" class="form-control" id="percentageFrom" aria-describedby="emailHelp">
          </div>
        <div class="mb-3 form-check">
          <input type="checkbox"  id="createHalves" value="createHalves" class="form-check-input" id="exampleCheck1">
          <label class="form-check-label"  for="exampleCheck1">Create with halves (+0.5)</label>
        </div>
        <button href="#answers" id="create" class="btn btn-primary">Create Percentages</button>
    
    
    </div>

    <!-- ================================ form finished ========================================= -->
      
    
    
    <div class="col-12 container-md check mt-3 d-flex flex-wrap p-0" id="answers"></div>
    <div class="container-md mt-5">
        <a href="AverageFromHundred.html" class="mt-5 link-secondary">Average From Hundred</a>
    </div>



    </body>
<style>
    .myCard{
        border: 1px solid rgb(30, 30, 30);
        margin: 0px;
        border-radius: 3px;
        display: flex;
        justify-content: center;
        align-items: center;
        width: 20%;
        padding-bottom: -5px;
        
    }

    .fw-semibold , p{
        margin-bottom:0 !important;
        padding-bottom:0 !important;

    }
</style>
<script>
    let totalQuestions;
    let totalQuestionsTemp;
    let resetDefaultLimits =false;
    let firstTime = true;
    let answers = document.getElementById('answers');
    let createHalves;
    document.getElementById('create').addEventListener('click' , (e)=>{

        let cards = document.getElementsByClassName('myCard');
        if(cards.length > 0){
            [...cards].forEach(card => {
                card.remove();
            });
        }
        console.log('clicked')
        totalQuestions = document.getElementById('total-questions').value *1
      
        let startingfrom = document.getElementById('startingfrom')
        let endwith = document.getElementById('endwith')
        createHalves = document.getElementById('createHalves').checked;
        
        if(startingfrom.value % 5 == 0) startingfrom.value -= 4; 
        if(startingfrom.value <=0 || (!firstTime && totalQuestionsTemp != totalQuestions)){
            startingfrom.value = 1;
             
        }
        if(endwith.value <=0 || (!firstTime && totalQuestionsTemp != totalQuestions)){
            endwith.value = totalQuestions;
             
        }

        if(startingfrom > endwith ){
            let temp = startingfrom.value;
            startingfrom.value = endwith.value;
            endwith.value = temp;
        }
        firstTime = false;
        totalQuestionsTemp = totalQuestions;
        console.log(totalQuestions)

        
        startingfrom.value = ((Math.floor(startingfrom.value/5))*5 ) +1;

        for (let index = startingfrom.value*1; index <= endwith.value*1; index++) {
            console.log("Question number : " , index , " ", getPercentage(index))
            createCard(index);
            
        }
    })

    function createCard(num){
        // Create the card element
    const card = document.createElement('div');
    card.className = 'myCard';

    // Create the first paragraph element
    const p1 = document.createElement('p');
    p1.className = 'fw-semibold fs-5';
    p1.textContent = `${num.toString().padStart(2, '0')} :`;;

    // Create the second paragraph element
    const p2 = document.createElement('p');
    p2.textContent = `${getPercentage(num).toString().padStart(2, '0')}`;

    // Create the third paragraph element
    const p3 = document.createElement('p');
    p3.className = 'text-secondary';
    p3.innerHTML = `&nbsp; ${getPercentage(num+0.5).toString().padStart(2, '0')}`;

    // Append the paragraphs to the card
    card.appendChild(p1);
    card.appendChild(p2);
    if(createHalves && getPercentage(num+0.5) < 100){
        card.appendChild(p3);
    }
    

    answers.appendChild(card);
    }
    percentageFrom = document.getElementById('percentageFrom').value*1;
    function getPercentage(num){
        return Math.round(num/totalQuestions*100)
    }
</script>



<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</html>